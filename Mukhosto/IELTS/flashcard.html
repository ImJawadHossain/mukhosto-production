<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Vocabulary Flashcards</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js"></script>
</head>
<body>

<h1>
  <a href="/vocabulary" style="color: inherit; text-decoration: none;">
    Vocabulary Flashcards
  </a>
</h1>

<div class="flex justify-center mb-4">
  <label class="flex items-center space-x-2 text-sm text-gray-700">
    <input type="checkbox" id="reverse-toggle" class="accent-blue-600">
    <span>Reverse Practice</span>
  </label>
</div>

<label>
  <input type="checkbox" id="toggle-extra" onchange="toggleExtras()" />
  Show Extra Data
</label>

<div class="top-controls">
  <button class="shuffle-button" onclick="shuffleCards()">Shuffle Cards</button>
</div>


<div id="flashcard-container" class="flashcard-container"></div>





<div class="button-container">
  <button class="nav-buttons" onclick="showPrevious()">Previous</button>
  <button class="nav-buttons" id="next-btn" onclick="showNext()">Next</button>
</div>

<div class="counter" id="card-counter">1/0</div>

<!-- Examples shown outside the flashcard -->
<div id="examples-outside"></div>



<script src="flashcard.js"></script>

<br><br><br><br>

<footer class="text-center text-sm text-gray-500 mt-12 mb-6">
  <a href="/" class="text-blue-600 hover:underline">← Back to Home</a>
  <p class="mt-1">&copy; 2025 Jawad. All rights reserved.</p>
</footer>

<script type="module" src="../verifyAccess.js"></script>
<script src="./srs.js"></script>
<script src="./srs-integrations.js"></script>
<script>
  // Apply user's default for "Show Extra Data" on the flashcard page
  document.addEventListener('DOMContentLoaded', function () {
    try {
      const def = localStorage.getItem('showExtraDefault') === '1';
      const chk = document.getElementById('toggle-extra');
      if (!chk) return; // page doesn't have the toggle; nothing to do

      // Remember previous state to avoid double work
      const prev = !!chk.checked;
      chk.checked = def;

      // If the desired state differs from current UI, sync the page logic.
      if (def !== prev) {
        if (typeof toggleExtras === 'function') {
          // Your page’s official handler – preferred
          toggleExtras();
        } else {
          // Fallbacks if there is no toggleExtras() on this page
          if (typeof window.showExtraData !== 'undefined') {
            window.showExtraData = def;
          }
          if (typeof createFlashcard === 'function') {
            // Re-render to reflect the new flag
            try { createFlashcard(); } catch {}
          }
        }
      }
    } catch (e) {
      console.warn('Could not apply showExtraDefault on flashcard page:', e);
    }
  });
</script>


</body>

</html>
